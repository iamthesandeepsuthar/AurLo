<!-- Page Header Title start -->
<div class="widget-header">
    <div class="row d-block d-sm-flex align-items-center justify-content-between text-center text-sm-left">
        <div>
            <h1>BT Gold Loan Lead Balance Return</h1>
            <!-- Breadcrumb Start -->
            <nav class="custom-breadcrum">
                <ol class="breadcrumb justify-content-center justify-content-sm-start">
                    <li class="breadcrumb-item"><a href="javascript:void(0)">Dashboard</a></li>
                    <li class="breadcrumb-item"><a href="javascript:void(0)">BT Gold Loan Leads</a></li>
                    <li class="breadcrumb-item active" aria-current="page">BT Balance Return</li>
                </ol>
            </nav>
            <!-- Breadcrumb End -->
        </div>
    </div>
</div>
<!-- Page Header Title end -->
<div class="detail-d-2 pb-4">
    <div class="widget-content widget-content p-3 form-grp-w-border">
        <h2> <img src="assets/img/lead.png">Lead Details</h2>
        <div class="table-responsive">
            <table class="table  table-borderless table-data-info table-font-17 table-v-align-top m-0">
                <tbody>
                    <tr>
                        <td style="width: 20%;"><strong> Loan Case No.: </strong> </td>
                        <td style="width: 30%;">{{DetailModel.LoanCaseNumber}}</td>
                        <td style="width: 20%;"><strong> Full Name : </strong> </td>
                        <td style="width: 30%;">{{DetailModel.FullName}}</td>
                    </tr>
                    <tr>
                        <td><strong> Loan Amount: </strong> </td>
                        <td>{{DetailModel.LoanAmount}}</td>
                        <td><strong> Lead Source By: </strong> </td>
                        <td>{{DetailModel.LeadSourceByuserName}}</td>
                    </tr>
                    <tr>
                        <td><strong>Mobile Number: </strong> </td>
                        <td>{{DetailModel.Mobile}}</td>
                        <td><strong> Lender: </strong> </td>
                        <td>{{DetailModel!.ExistingLoanDetail!.BankName}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="widget-content widget-content p-3 form-grp-w-border">
        <h2> <img src="assets/img/jewellery.png">Jewellery Details</h2>
        <div class="table-responsive">
            <table class="table  table-borderless table-data-info table-font-17 table-v-align-top m-0">
                <tbody>
                    <tr>
                        <td style="width: 20%;"><strong> <i class="fas fa-gem mr-1"></i> Type Jewellery : </strong> </td>
                        <td style="width: 30%;">{{DetailModel!.JewelleryDetail!.JewelleryType}}</td>
                        <td style="width: 20%;"><strong> <i class="fas fa-list-ol mr-1"></i> Quantity : </strong> </td>
                        <td style="width: 30%;">{{DetailModel!.JewelleryDetail!.Quantity}}</td>
                    </tr>
                    <tr>
                        <td><strong> <i class="fas fa-weight mr-1"></i> Weight : </strong> </td>
                        <td>{{DetailModel!.JewelleryDetail!.Weight}} </td>
                        <td><strong> <i class="fas fa-cube mr-1"></i> Karat : </strong> </td>
                        <td>{{DetailModel!.JewelleryDetail!.Karats}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="widget-content widget-content p-3 form-grp-w-border">
        <h2> <img src="assets/img/loan.png">Loan Status</h2>
        <div class="d-flex flex-wrap">
            <div class="mr-4">
                <div class="n-chk">
                    <label class="new-control new-checkbox checkbox-info">
						<input type="checkbox" [(ngModel)]="DetailModel!.BalanceTransferReturn!.AmountPainToExistingBank"class="new-control-input" name="custom-radio-10"> <span class="new-control-indicator"></span>Amount Paid To Existing Bank </label>
                </div>
            </div>
            <div class="mr-4">
                <div class="n-chk">
                    <label class="new-control new-checkbox checkbox-info">
						<input type="checkbox" class="new-control-input" [(ngModel)]="DetailModel!.BalanceTransferReturn!.GoldReceived" name="custom-radio-10" checked> <span class="new-control-indicator"></span>Gold Received </label>
                </div>
            </div>
            <div>
                <div class="n-chk">
                    <label class="new-control new-checkbox checkbox-info">
						<input type="checkbox" class="new-control-input" [(ngModel)]="DetailModel!.BalanceTransferReturn!.GoldSubmittedToBank" name="custom-radio-10"> <span class="new-control-indicator"></span>Gold Submitted To Bank </label>
                </div>
            </div>
        </div>
        <div *ngIf="!DetailModel!.BalanceTransferReturn!.GoldSubmittedToBank" class="form-footer-btn-grp widget-content widget-content pt-3 text-center">
            <button type="button" (click)="SaveStatus()" class="btn btn-success mr-3"> <i class="fas fa-check mr-1"></i> Save Status</button>
        </div>
    </div>
    <form [formGroup]="formBalanceReturn" (ngSubmit)="FinalSubmit()">
        <div *ngIf="DetailModel!.BalanceTransferReturn!.GoldSubmittedToBank" class="form-group col-md-12 px-4">
            <label>Disbursement</label>
            <div class="form-radio-check-grp border-0 px-0">
                <div class="n-chk d-inline">
                    <label class="new-control new-radio radio-classic-info">
					<input type="radio" class="new-control-input" (change)="CheckDisbursementStatus(model.LoanDisbursment)" formControlName="IsDisbursement"  value=true name="IsDisbursement" [(ngModel)]="Model.LoanDisbursment"> <span class="new-control-indicator"></span>Yes </label>
                </div>
                <div class="n-chk d-inline">
                    <label class="new-control new-radio radio-classic-info">
					<input type="radio" class="new-control-input"  (change)="CheckDisbursementStatus(model.LoanDisbursment)" value=false name="IsDisbursement" formControlName="IsDisbursement" [(ngModel)]="Model.LoanDisbursment"> <span class="new-control-indicator"></span>No </label>
                </div>
            </div>
        </div>
        <div *ngIf="DetailModel!.BalanceTransferReturn!.GoldSubmittedToBank" class="row m-0">
            <div class="col-md-12 px-4">
                <div class="form-row">
                    <div class="form-group col-md-4" *ngIf="IsLoanAccountNumber">
                        <label>Loan A/C No.</label>
                        <input type="text" class="form-control" name="LoanAccountNumber" formControlName="LoanAccountNumber" [(ngModel)]="Model.LoanAccountNumber" id="input1" placeholder="Loan A/C No."> </div>
                        <div class="form-group col-md-4">
                        <label>Bank Name</label>
                        <input type="text" [ngClass]="{ 'is-invalid': f.BankName.errors && f.BankName.touched}"  class="form-control" name="BankName" formControlName="BankName" [(ngModel)]="Model.BankName" id="input1" placeholder="Bank Name">
                        <div class="invalid-feedback"
                        *ngIf="(formBalanceReturn.get('BankName')?.hasError('required') && formBalanceReturn.get('BankName')?.touched)">Bank Name Required.</div>
                      </div>
                    <div class="form-group col-md-4">
                        <label>Customer Name</label>
                        <input type="text" class="form-control"[ngClass]="{ 'is-invalid': f.CustomerName.errors && f.CustomerName.touched}" name="CustomerName" formControlName="CustomerName" [(ngModel)]="Model.CustomerName" id="input1" placeholder="Customer Name">
                        <div class="invalid-feedback"
                        *ngIf="(formBalanceReturn.get('CustomerName')?.hasError('required') && formBalanceReturn.get('CustomerName')?.touched)">Customer Name Required</div>
                      </div>
                    <div class="form-group col-md-4">
                        <label>Amount Returned</label>
                        <input type="text" [ngClass]="{ 'is-invalid': f.ReturnAmount.errors && f.ReturnAmount.touched}" (keypress)="_commonService.NumberOnly($event)" class="form-control" [(ngModel)]="Model.AmountReturn" formControlName="ReturnAmount" name="ReturnAmount" id="input1" placeholder="Amount Returned">
                        <div class="invalid-feedback"
                        *ngIf="(formBalanceReturn.get('ReturnAmount')?.hasError('required') && formBalanceReturn.get('ReturnAmount')?.touched)">Return Amount Required
                        </div>
                    </div>
                    <div *ngIf="this.IsFinalPaymentDate" class="form-group col-md-4 date-icon-with-label">
                        <label>Final Payment Date</label>
                        <input type="date" class="form-control" formControlName="FinalPaymentDate" [(ngModel)]="Model.FinalPaymentDate" name="FinalPaymentDate" id="input1" placeholder="DD/MM/YYYY"></div>
                    <div class="form-group col-md-4">
                        <label>Payment Method</label>
                        <select [ngClass]="{ 'is-invalid': f.PaymentMethod.errors && f.PaymentMethod.touched}"  (change)="checkPaymentMethod(Model.PaymentMethod)" class="form-control" name="PaymentMethod" formControlName="PaymentMethod" [(ngModel)]="Model.PaymentMethod">
                      <option value=undefined>Select Payment Method</option>
                      <option value=1>RTGS</option>
					          	<option value=2>NEFT</option>
						          <option value=3>IMPS</option>
                      <option value=4>CHEQUE</option>
					          </select>
                    <div class="invalid-feedback"*ngIf="(formBalanceReturn.get('PaymentMethod')?.hasError('required') && formBalanceReturn.get('PaymentMethod')?.touched)">Please Select Payment Method </div>
                    </div>
                    <div *ngIf="this.IsChequeDetail" class="form-group col-md-4">
                        <label></label>
                        <button type="button" #HideAddUpdateModel data-toggle="modal" href="#add-cheque-detail" class="btn btn-primary form-control">Cheque Detail</button>
                    </div>
                    <div *ngIf="!this.IsChequeDetail" class="form-group col-md-4">
                        <label>UTR Number</label>
                        <input type="text"  [(ngModel)]="Model.UtrNumber" formControlName="UtrNo" name="UtrNo" class="form-control" id="input1" placeholder="UTR Number">
                     </div>
                     <div  class="form-group col-md-12">
                      <label>Remarks</label>
                      <input type="text" [(ngModel)]="Model.Remarks" formControlName="Remark" name="Remark" class="form-control" id="input1" placeholder="Remarks">
                   </div>
                </div>
                <div class="form-footer-btn-grp widget-content widget-content p-3 text-center">
                    <button type="submit" class="btn btn-success mr-3"> <i class="fas fa-check mr-1"></i>Final Submit </button>
                    <button type="button" class="btn btn-outline-danger"> <i class="fas fa-times mr-1"></i> Cancel</button>
                </div>
            </div>
        </div>
    </form>

</div>
<div class="modal fade custom-modal" id="add-cheque-detail">
    <div class="modal-dialog modal-dialog-centered modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Cheque Detail</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
            </div>
            <div class="modal-body px-4 pt-4 pb-0">
                <div class="form-row">
                    <div class="form-group col-md-12">
                        <label>Cheque Number</label>
                        <input type="number" [(ngModel)]="ChequeDetail.ChequeNumber" class="form-control" placeholder="Cheque Number" />
                    </div>

                    <div class="form-group col-md-12">
                        <label>Upload Cheque Image</label>
                        <input type="file" class="form-control" />
                    </div>
                </div>
            </div>
            <div class="modal-footer border-0">
                <button type="button" (click)="SetChequeDetail()" class="btn btn-success">
              <i class="fas fa-check"></i>Submit</button>
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal" aria-label="Close"><i class="fas fa-times mr-1"></i>Close</button>
            </div>
        </div>
    </div>
</div>
